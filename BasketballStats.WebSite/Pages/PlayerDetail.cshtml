@page
@model PlayerDetailModel
@{
    ViewData["Title"] = $"{Model.PlayerDetailInfo.Player.Name} {Model.PlayerDetailInfo.Player.Surname}";
}
<div class="row-fluid">
    <div class="col-md-12">
        <h2>@ViewData["Title"]</h2>

        <label>Doğum Tarihi:</label> @Model.PlayerDetailInfo.Player.BirthDate.ToString("dd-MM-yyyy")
        <br />
        <br />
    </div>
</div>


@if (Model.PlayerDetailInfo.PlayerStats.Count > 0)
{
    <div class="row-fluid">
        <div class="col-md-6">
            <label>Toplam İstatistikler</label>

            <div class="table-responsive">
                <table class="table table-bordered table-condensed table-hover table-striped">
                    <thead>
                        <tr>
                            <th>1 Sayı</th>
                            <th>2 Sayı</th>
                            <th>Ribaunt</th>
                            <th>Kapma</th>
                            <th>Asist</th>
                            <th>Kayıp</th>
                            <th>Kesme</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>@decimal.Truncate(Model.PlayerDetailInfo.TotalStats.OnePoint) / @decimal.Truncate(Model.PlayerDetailInfo.TotalStats.OnePoint + Model.PlayerDetailInfo.TotalStats.MissingOnePoint)</td>
                            <td>@decimal.Truncate(Model.PlayerDetailInfo.TotalStats.TwoPoint) / @decimal.Truncate(Model.PlayerDetailInfo.TotalStats.TwoPoint + Model.PlayerDetailInfo.TotalStats.MissingTwoPoint)</td>
                            <td>@decimal.Truncate(Model.PlayerDetailInfo.TotalStats.Rebound)</td>
                            <td>@decimal.Truncate(Model.PlayerDetailInfo.TotalStats.StealBall)</td>
                            <td>@decimal.Truncate(Model.PlayerDetailInfo.TotalStats.Assist)</td>
                            <td>@decimal.Truncate(Model.PlayerDetailInfo.TotalStats.LooseBall)</td>
                            <td>@decimal.Truncate(Model.PlayerDetailInfo.TotalStats.Interrupt)</td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="col-md-6">
            <label>Maç Başına İstatistikler</label>

            <div class="table-responsive">
                <table class="table table-bordered table-condensed table-hover table-striped">
                    <thead>
                        <tr>
                            <th>1 Sayı</th>
                            <th>2 Sayı</th>
                            <th>Ribaunt</th>
                            <th>Kapma</th>
                            <th>Asist</th>
                            <th>Kayıp</th>
                            <th>Kesme</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>@Model.PlayerDetailInfo.PerMatchStats.OnePoint / @(Model.PlayerDetailInfo.PerMatchStats.OnePoint + Model.PlayerDetailInfo.PerMatchStats.MissingOnePoint)</td>
                            <td>@Model.PlayerDetailInfo.PerMatchStats.TwoPoint / @(Model.PlayerDetailInfo.PerMatchStats.TwoPoint + Model.PlayerDetailInfo.PerMatchStats.MissingTwoPoint)</td>
                            <td>@Model.PlayerDetailInfo.PerMatchStats.Rebound</td>
                            <td>@Model.PlayerDetailInfo.PerMatchStats.StealBall</td>
                            <td>@Model.PlayerDetailInfo.PerMatchStats.Assist</td>
                            <td>@Model.PlayerDetailInfo.PerMatchStats.LooseBall</td>
                            <td>@Model.PlayerDetailInfo.PerMatchStats.Interrupt</td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="col-md-4">
            <label>Ortalama İstatistikler</label>

            <div class="table-responsive">
                <table class="table table-bordered table-condensed table-hover table-striped">
                    <thead>
                        <tr>
                            <th>1 Sayı %</th>
                            <th>2 Sayı %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>% @Model.PlayerDetailInfo.OnePointRatio</td>
                            <td>% @Model.PlayerDetailInfo.TwoPointRatio</td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="col-md-4">
            <label>Galibiyet-Mağlubiyet Tablosu</label>

            <div class="table-responsive">
                <table class="table table-bordered table-condensed table-hover table-striped">
                    <thead>
                        <tr>
                            <th>Sonuçlar</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>@Utils.ConvertFunctions.GetFirstCharOfEnumValues(Model.PlayerDetailInfo.MatchForms)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="row-fluid">
        <div class="col-md-4">
            <label>Kazanma/Kaybetme Oranı</label>
            <div class="table-responsive">
                <table class="table table-bordered table-condensed table-hover table-striped">
                    <thead>
                        <tr>
                            <th>Kazanma</th>
                            <th>Kaybetme</th>
                            <th>Kazanma %</th>
                            <th>Kaybetme %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>@Model.PlayerDetailInfo.TotalWins</td>
                            <td>@Model.PlayerDetailInfo.TotalLooses</td>
                            <td>% @Model.PlayerDetailInfo.WinRatio</td>
                            <td>% @Model.PlayerDetailInfo.LooseRatio</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="row-fluid">
        <div class="col-md-12">
            <label>Oynadığı Maçlar</label>

            <div class="table-responsive">

                <table class="table table-bordered table-condensed table-hover table-striped">
                    <thead>
                        <tr>
                            <th>Tarih</th>
                            <th>Sıra</th>
                            <th>Takım</th>
                            <th>Skor</th>
                            <th>1 Sayı</th>
                            <th>2 Sayı</th>
                            <th>Ribaunt</th>
                            <th>Kapma</th>
                            <th>Asist</th>
                            <th>Kayıp</th>
                            <th>Kesme</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var customStat in Model.PlayerDetailInfo.PlayerStats)
                        {
                            <tr>
                                <td><a asp-page="MatchDetail" asp-route-id="@customStat.PlayerStat.Match.Id">@customStat.PlayerStat.Match.MatchDate.ToString("dd-MM-yyyy")</a></td>
                                <td>@customStat.PlayerStat.Match.Order</td>
                                <td>@customStat.PlayerStat.Team.Name</td>
                                <td>@decimal.Truncate(customStat.HomeTeamScore) - @decimal.Truncate(customStat.AwayTeamScore)</td>
                                <td>@decimal.Truncate(customStat.PlayerStat.OnePoint) / @decimal.Truncate(customStat.PlayerStat.OnePoint + customStat.PlayerStat.MissingOnePoint)</td>
                                <td>@decimal.Truncate(customStat.PlayerStat.TwoPoint) / @decimal.Truncate(customStat.PlayerStat.TwoPoint + customStat.PlayerStat.MissingTwoPoint)</td>
                                <td>@decimal.Truncate(customStat.PlayerStat.Rebound)</td>
                                <td>@decimal.Truncate(customStat.PlayerStat.StealBall)</td>
                                <td>@decimal.Truncate(customStat.PlayerStat.Assist)</td>
                                <td>@decimal.Truncate(customStat.PlayerStat.LooseBall)</td>
                                <td>@decimal.Truncate(customStat.PlayerStat.Interrupt)</td>
                            </tr>
                        }
                    </tbody>
                </table>

            </div>
        </div>
    </div>
}



